<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileStreamBot | {{file_name}}</title>

    <!-- Plyr.js CSS -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.9/plyr.css">
</head>

<body>
    <div class="video-container" style="text-align: center;">
        <!-- Plyr.js video player with preload and buffering optimizations -->
        <video id="videoPlayer" class="plyr" controls preload="metadata">
            <!-- Single video source, browser will select the appropriate quality -->
            <source src="{{file_url}}" type="video/mp4" />
        </video>
    </div>

    <!-- Plyr.js JavaScript -->
    <script src="https://cdn.plyr.io/3.6.9/plyr.js"></script>

    <script>
        // Initialize Plyr.js player
        const player = new Plyr('#videoPlayer', {
            // Automatically load video metadata to avoid excessive buffering
            preload: 'metadata',
            // Enable auto-play when user interaction happens
            autoplay: false,
            // Removed quality settings to let the browser decide based on internet speed
            controls: ['play', 'progress', 'current-time', 'mute', 'volume', 'fullscreen'], // Minimized controls for better user experience
        });
    </script>
</body>

</html>
