<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileStreamBot | {{file_name}}</title>
    <link rel="icon" href="https://i.ibb.co/Hh4kF2b/icon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3.6.9/dist/plyr.css">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@500;700&display=swap" rel="stylesheet">
</head>

<body>
    <div style="text-align: center; margin-top: 20px;">
        <h2>Now Playing: {{file_name}}</h2>
    </div>

    <div style="max-width: 100%; text-align: center; margin-top: 20px;">
        <video id="player" class="plyr" controls>
            <source src="https://faststreaming.cybersyncc.workers.dev/?src={{file_url}}" type="video/mp4">
        </video>
    </div>

    <div style="text-align: center; margin-top: 10px;">
        <h4>File Size: {{file_size}}</h4>
        <button onclick="copyStreamLink()">Copy Stream Link</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/plyr@3.6.9/dist/plyr.min.js"></script>
    <script>
        const player = new Plyr('#player', {
            controls: [
                'play', 'progress', 'current-time', 'mute', 'volume', 'fullscreen', 'settings'
            ],
            settings: ['quality', 'speed', 'loop']
        });

        // Function to copy stream link
        function copyStreamLink() {
            const link = "https://faststreaming.cybersyncc.workers.dev/?src={{file_url}}";
            navigator.clipboard.writeText(link).then(() => {
                alert("Stream link copied!");
            }).catch(err => {
                alert("Failed to copy link: " + err);
            });
        }
    </script>
</body>

</html>
